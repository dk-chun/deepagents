# Integrated Scenario: ì™¸ì¶œ ìˆ˜í˜¸ì²œì‚¬ (Outing Guardian)

**"ì§‘ ë°–ì—ì„œ ë²Œì–´ì§€ëŠ” ë©˜ë¶•, ëŒì•„ê°€ì§€ ì•Šì•„ë„ í•´ê²°í•´ë“œë¦½ë‹ˆë‹¤."**

í•˜ë‚˜ì˜ ì—ì´ì „íŠ¸ê°€ ì‚¬ìš©ìì˜ ë°œí™” ì˜ë„ë¥¼ ë¶„ì„í•˜ì—¬, **"ë‹¤ì‹œ ê°€ì•¼ í•  ìƒí™©(Physical Return)"**ê³¼ **"ì›ê²©ìœ¼ë¡œ í•´ê²°í•  ìƒí™©(Remote Control)"**ì„ ìŠ¤ìŠ¤ë¡œ êµ¬ë¶„í•˜ê³  ì²˜ë¦¬í•©ë‹ˆë‹¤.

---

## ğŸ—ï¸ Architecture & Logic

### 1. Trigger (Input)
- **Source**: ë©”ì‹ ì €(ì¹´í†¡), ìŒì„±(ì›Œì¹˜/ì´ì–´í°), í˜¼ì£ë§.
- **Keywords**: "ì•„ ë§ë‹¤", "ë‘ê³  ì™”ë‹¤", "ì•ˆ ê»ë‚˜?", "ê°€ìŠ¤ ì ê°”ë‚˜?"
- **Context**: 
    - `User_Location`: **Outside** (ì§‘ GPS ë°˜ê²½ 500m ë°–)
    - `Movement`: ì´ë™ ì¤‘ (ì°¨ëŸ‰/ë³´í–‰)

### 2. Decision Router (The Brain)
ì—ì´ì „íŠ¸ëŠ” ì‚¬ìš©ìì˜ ë§ì—ì„œ **"í•´ê²° ë°©ë²•"**ì„ ì¶”ë¡ í•©ë‹ˆë‹¤.

*   **Case A: ë¬¼ë¦¬ì  íšŒê·€ (Physical Object)**
    *   ëŒ€ìƒ: ì§€ê°‘, ì°¨ í‚¤, ì„œë¥˜, ì—¬ê¶Œ ë“± (ìŠ¤ë§ˆíŠ¸ ê¸°ëŠ¥ ì—†ìŒ).
    *   íŒë‹¨: "ì´ê±´ ì›ê²©ìœ¼ë¡œ í•´ê²° ë¶ˆê°€. ê°€ì§€ëŸ¬ ê°€ì•¼ í•¨."
    *   -> **Activate [The U-Turn Manager]**
*   **Case B: ì›ê²© ì œì–´ (Connected Device)**
    *   ëŒ€ìƒ: ê³ ë°ê¸°(Smart Plug), ì—ì–´ì»¨, ì¡°ëª…, PC ë“±.
    *   íŒë‹¨: "ì´ê±´ ë‚´ê°€ ëŒ€ì‹  êº¼ì¤„ ìˆ˜ ìˆìŒ. êµ³ì´ ì˜¬ í•„ìš” ì—†ìŒ."
    *   -> **Activate [Smart Forgetfulness Care]**

---

## ğŸ¬ Detailed Flows

### Case A. "ì§€ê°‘ ë‘ê³  ì™”ë‹¤" (íšŒê·€ ì‹œë‚˜ë¦¬ì˜¤)
1.  **User**: "ì•„ ë¯¸ì¹œ, ì§€ê°‘ ë‘ê³  ì˜´. ë‹¤ì‹œ ê°”ë‹¤ ì™€ì•¼ê² ë„¤."
2.  **Agent Action**:
    *   **Intent**: íšŒê·€ ì˜ì‚¬ í™•ì¸ (`Return_to_Home`).
    *   **Simulation**: 
        *   í˜„ì¬ ìœ„ì¹˜ -> ì§‘ (15ë¶„)
        *   ì§‘ -> ì•½ì† ì¥ì†Œ (40ë¶„)
        *   **Total Delay**: ê¸°ì¡´ ì˜ˆì •ë³´ë‹¤ **+35ë¶„ ì§€ì—° ì˜ˆìƒ**.
    *   **Proposal**: 
        *   "ì§€ê¸ˆ ëŒì•„ê°€ì‹œë©´ ì•½ì† ì‹œê°„ë³´ë‹¤ 35ë¶„ ëŠ¦ìŠµë‹ˆë‹¤. ì² ìˆ˜ë‹˜ê»˜ ë¯¸ë¦¬ '35ë¶„ ëŠ¦ëŠ”ë‹¤'ê³  ì¹´í†¡ ë³´ë‚¼ê¹Œìš”?"

### Case B. "ê³ ë°ê¸° ê»ë‚˜?" (ì›ê²© ì œì–´ ì‹œë‚˜ë¦¬ì˜¤)
1.  **User**: "ì•„ ë§ë‹¤, ë‚˜ ê³ ë°ê¸° ë„ê³  ë‚˜ì™”ë‚˜? ê¸°ì–µì´ ì•ˆ ë‚˜ë„¤ ã… ã… "
2.  **Agent Action**:
    *   **Intent**: ìƒíƒœ í™•ì¸ ë° ë¶ˆì•ˆ í•´ì†Œ (`State_Check`).
    *   **Check**: `Smart_Plug_03 (Dressing Room)` Status ì¡°íšŒ -> **ON**.
    *   **Control**: ì¦‰ì‹œ **OFF** ì „í™˜.
    *   **Proposal**:
        *   "í™”ì¥ëŒ€ ê³ ë°ê¸°ê°€ ì¼œì ¸ ìˆì–´ì„œ ë°©ê¸ˆ ê»ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì•ˆ ê°€ì…”ë„ ë¼ìš”."

---

## ğŸ› ï¸ Implementation Specs (DeepAgents)
ì´ ì‹œë‚˜ë¦¬ì˜¤ëŠ” í•˜ë‚˜ì˜ ì—ì´ì „íŠ¸(`OutingGuardian`) ì•ˆì— ë‘ ê°€ì§€ `Skill`ì„ íƒ‘ì¬í•˜ì—¬ êµ¬í˜„í•©ë‹ˆë‹¤.

```python
class OutingGuardian(Agent):
    def think(self, user_input):
        # 1. ëŒ€ìƒ ë¬¼ì²´ ì‹ë³„ (Entity Extraction)
        target = extract_target(user_input) # "ì§€ê°‘" or "ê³ ë°ê¸°"
        
        # 2. ë¬¼ì²´ì˜ ì œì–´ ê°€ëŠ¥ ì—¬ë¶€ íŒë‹¨ (Property Check)
        if target.is_iot_device():
            return self.skills.remote_control(target) # Case B
        else:
            return self.skills.route_recalc(target)   # Case A
```
